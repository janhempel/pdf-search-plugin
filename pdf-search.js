jQuery(document).ready(function($) {
    $('#pdf_search_form').on('submit', function(e) {
        e.preventDefault();
        var searchTerm = $('#pdf_search_term').val();

        // Ladesymbol anzeigen
        $('#pdf_search_results').html('<div id="loading"><svg version="1.1" id="svg9" width="32" viewBox="0 0 1227.8468 1275.8753" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs13"></defs><g id="wslogo" transform="translate(-36.456071,22.711513)"><g style="display:inline;" id="g127" transform="matrix(0.31736846,0,0,0.31736846,2.496353,-55.222336)"><path style="display:inline;fill:#221e1f;" d="m 1993.5,4122.4054 c -86.9579,-3.2291 -141.7422,-7.8405 -213.9037,-18.0054 C 1450.6341,4058.0618 1136.1504,3921.9618 870.5,3710.9678 808.48945,3661.7157 761.77332,3619.8913 701.94101,3560.059 661.82665,3519.9446 641.33496,3498.1825 610.54797,3463 421.0944,3246.4976 278.66449,2988.9874 195.11629,2711.9086 186.6933,2683.9746 173,2634.7343 173,2632.3797 173,2631.2115 202.50876,2631 365.46146,2631 h 192.46145 l 1.14021,4.25 c 3.33342,12.4249 14.16114,47.5438 22.12169,71.75 72.97134,221.8892 185.93528,426.1045 333.83278,603.5 55.05242,66.0326 120.94711,134.0967 184.60691,190.6845 226.2779,201.1408 498.1238,337.2428 786.3755,393.7057 167.5465,32.8191 341.0676,38.9482 510.5,18.0318 410.5561,-50.683 788.7816,-257.5334 1069.5619,-584.9402 111.6141,-130.1489 208.4687,-283.2316 278.6904,-440.4818 108.6247,-243.2476 164.3124,-505.1794 164.2366,-772.5 -0.011,-38.0785 -2.7262,-115.8526 -4.5125,-129.25 l -0.5,-3.75 h 33.922 33.9221 l 0.6178,8.25 c 1.935,25.8403 2.742,51.2318 3.25,102.25 0.7327,73.5849 -1.1203,127.082 -6.7369,194.5 -33.8836,406.7186 -186.5506,791.7262 -439.355,1108 -190.2462,238.0097 -433.3545,429.7409 -703.0964,554.5083 -222.1985,102.7764 -451.5284,159.0113 -699.5,171.5273 -20.3441,1.0268 -116.2389,2.0108 -133.5,1.3698 z" id="bottom" data-aos="flip-up" data-aos-duration="1250"></path><path style="display:inline;fill:#221e1f;" d="m 115.62202,2303.75 c -19.093556,-211.7158 -6.4003,-424.4395 37.48528,-628.2083 73.35,-340.5775 231.00434,-655.151 458.32577,-914.51428 30.99489,-35.36373 50.50041,-56.07795 90.0084,-95.58595 C 773.42612,593.45682 836.42562,538.66562 913.5,481.01235 c 295.8348,-221.29069 640.4819,-350.09334 1002,-374.47072 81.264,-5.47968 170.5085,-5.47025 252.5,0.0267 408.2162,27.36793 795.5738,188.97821 1113,464.35719 63.144,54.77976 133.1478,124.48263 189.2264,188.41294 100.455,114.51992 187.799,240.20161 260.7232,375.16154 14.1536,26.1939 48.4121,95.272 60.5045,122 57.3505,126.7627 100.1942,252.9991 131.5231,387.5252 2.2125,9.5007 4.0228,17.4316 4.0228,17.6243 0,0.1928 -16.3149,0.3505 -36.2554,0.3505 h -36.2554 l -3.3557,-13.25 C 3810.0613,1486.5764 3746.4811,1328.6739 3664.0675,1184.1684 3547.3451,979.50516 3392.9688,800.3645 3210.4885,657.82834 3041.0473,525.47701 2847.2522,426.20427 2645,368.15329 2379.3836,291.91537 2099.5945,284.88038 1829.5,347.64844 1336.52,462.21349 910.44635,809.65096 676.92994,1287.5 c -104.64931,214.1459 -166.03912,441.5508 -184.92133,685 -5.99474,77.2905 -6.57535,182.5057 -1.44856,262.5 1.63804,25.5586 5.08674,67.5449 5.97559,72.75 l 0.55499,3.25 H 306.68324 116.27586 Z" id="top" data-aos="flip-down" data-aos-duration="1250"></path><path style="display:inline;fill:#ed1b24;" d="m 2164.5,3831.4064 c -3.3,-0.1897 -15.9,-0.8326 -28,-1.4287 C 1861.093,3816.4104 1588.4097,3725.415 1353.5137,3568.6924 1046.5893,3363.9124 813.72267,3057.1154 694.53396,2700.5 688.71525,2683.0903 673,2632.6925 673,2631.4419 c 0,-0.2461 78.36259,-0.3338 174.13909,-0.1947 l 174.13911,0.2528 2.006,5.5 c 1.1033,3.025 6.6903,17.34 12.4155,31.8112 108.9546,275.3949 306.5567,510.5043 553.8003,658.9183 161.4272,96.9006 339.0145,155.4518 522.3338,172.2155 43.0582,3.9374 57.8841,4.5341 112.6662,4.5341 64.3441,0 93.0893,-1.6385 149.5,-8.5217 235.3129,-28.7124 460.1455,-127.1839 647.4192,-283.5546 208.7365,-174.2919 361.9271,-411.4953 437.6282,-677.6323 19.0425,-66.9461 34.7106,-142.9634 42.412,-205.7705 0.8431,-6.875 1.7485,-13.7383 2.0121,-15.2518 l 0.4792,-2.7518 -272.2217,0.2518 -272.2216,0.2518 -40.1382,336 c -22.076,184.8 -41.608,348.2625 -43.4045,363.25 l -3.2663,27.25 h -278.102 -278.102 l -44.9046,-314.75 c -24.6975,-173.1125 -45.1826,-315.0764 -45.5224,-315.4753 -0.3399,-0.3988 -24.8461,140.0012 -54.4584,312 -29.6123,171.9989 -54.0697,313.9628 -54.3498,315.4753 l -0.5092,2.75 h -278.1411 -278.141 l -53.3199,-361.75 c -29.326,-198.9625 -53.5366,-362.5375 -53.8014,-363.5 -0.4575,-1.6631 -21.3442,-1.75 -420.7487,-1.75 H 612.3306 l -1.6925,-21.75 C 602.81539,2188.7218 602.95135,2095.8812 611.06318,1999 640.80512,1643.7858 778.57059,1307.8727 1005.327,1037.6678 1261.4595,732.45804 1613.6807,533.30853 1995,478.09641 c 316.1372,-45.77425 635.4262,6.39952 921,150.49702 130.3547,65.77559 247.9261,146.94452 361,249.22716 24.6991,22.34196 81.238,78.71246 104.4906,104.17941 161.2919,176.6521 281.8484,381.1352 358.1619,607.5 8.9859,26.6543 22.3475,69.4161 22.3475,71.5197 0,0.6453 -57.4496,0.8988 -166.2196,0.7332 l -166.2197,-0.2529 -2.8912,-8 c -5.4473,-15.0727 -21.4503,-54.9972 -29.461,-73.5 C 3289.0384,1330.1551 3108.3612,1117.1124 2884.5497,975.50661 2720.9621,872.00452 2540.6767,809.07229 2350.5,789.08589 c -45.4136,-4.7727 -63.0925,-5.55164 -126,-5.55164 -62.9075,0 -80.5864,0.77894 -126,5.55164 -148.1711,15.57187 -287.6015,56.2801 -421.5,123.0615 -150.0628,74.84327 -283.4097,178.04011 -397.1492,307.35261 -180.2858,204.9703 -296.56333,463.6848 -332.33082,739.4273 -1.38599,10.685 -2.51998,20.2475 -2.51998,21.25 0,1.7605 13.28888,1.8228 389.25,1.8252 h 389.25 l 59.9057,331.7475 c 32.9481,182.4611 60.226,332.6475 60.6173,333.7475 0.5646,1.5866 0.847,1.1733 1.3663,-2 1.3818,-8.4439 92.6107,-660.5572 92.6107,-661.9907 0,-1.3475 29.3355,-1.4854 268.2095,-1.2611 l 268.2095,0.2518 61.0405,333.2438 c 33.5723,183.2841 61.2655,333.2465 61.5405,333.2498 0.275,0 17.5428,-148.8314 38.3728,-330.7438 20.8301,-181.9124 38.0989,-331.9873 38.375,-333.4998 l 0.5022,-2.75 h 574.2871 574.2871 l 0.5793,3.75 c 0.7273,4.7084 3.1914,37.1874 4.5709,60.25 6.4957,108.5948 2.1666,223.8057 -12.569,334.5 -42.8972,322.2445 -176.3558,626.5407 -383.3199,874 -50.7643,60.697 -114.433,126.1661 -173.5855,178.494 -160.2901,141.7972 -344.8537,249.4007 -544.5093,317.4576 -96.2885,32.822 -200.2123,56.7241 -302.1972,69.5044 -37.0187,4.639 -65.3068,7.2448 -109.7935,10.1136 -15.6501,1.0092 -124.7458,2.0699 -137.5,1.3368 z" id="inner" data-aos="zoom-in-right" data-aos-duration="1250"></path></g></g></svg></div>');

        $.ajax({
            url: pdf_search_params.ajax_url,
            type: 'POST',
            data: {
                action: 'pdf_search',
                search_term: searchTerm
            },
            success: function(response) {
                // Ladesymbol ausblenden und Ergebnisse anzeigen
                $('#pdf_search_results').html(response);
            }
        });
    });
});
